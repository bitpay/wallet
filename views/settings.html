<div class="settings row" ng-controller="SettingsController">
  <h1 class="hide-for-small-only">{{$root.title|translate}}</h1>
  <div class="large-5 large-centered medium-7 medium-centered columns">
    <div class="logo-setup show-for-large-up" id="top">
      <img src="img/logo-negative-beta.svg" alt="Copay" width="100">
      <div ng-include="'views/includes/version.html'"></div>
    </div>
      <h2>{{title|translate}}</h2>
      <form name="settingsForm">
        <div class="box-notification" ng-show="message">
          <div class="box-icon">
            <i class="fi-check size-24"></i>
          </div> 
          <span class="text-primary size-14">
            {{message|translate}}
          </span>
        </div> 
        <fieldset>
          <legend translate>Insight API server</legend>
          <div class="row collapse">
            <label class="left" for="insightLivenet">Livenet</label>
            <div class="has-error right size-12" ng-show="settingsForm.insightLivenet.$invalid">
              <span class="icon-input"><i class="fi-x"></i></span>
              <span translate>Not valid</span>
            </div>
          </div>
          <div class="input">
            <input type="text" ng-model="insightLivenet" class="form-control" name="insightLivenet" valid-url required>
          </div>
          
          <div class="row collapse">
            <label class="left" for="insightTestnet">Testnet</label>
            <div class="has-error right size-12" ng-show="settingsForm.insightTestnet.$invalid">
              <span class="icon-input"><i class="fi-x"></i></span>
              <span translate>Not valid</span>
            </div>
          </div>
          <div class="input">
            <input type="text" ng-model="insightTestnet" class="form-control" name="insightTestnet" valid-url required>
          </div>

          <small class="text-gray">
            <span translate>Insight API server is open-source software. You can run your own instances, check</span> 
            <a href 
              ng-click="$root.openExternalLink('https://insight.is')">Insight API Homepage</a>
          </small>
        </fieldset>
        <fieldset>
          <legend translate>Storage</legend>
          <label for="insightTestnet" translate>Read and Store Profiles:</label>
          <select class="form-control" ng-model="selectedStorage" ng-options="o.name for o in availableStorages" required>
          </select>
          <small class="text-gray">
            <span translate>Wallets and profiles are stored encrypted using your password as a key. You can store the encrypted data locally, on this device, or remotely on the cloud (Insight Server).</span> 
            <a translate href 
              ng-click="$root.openExternalLink('https://github.com/bitpay/copay/tree/master/js/plugins')">
              More pluggins are welcomed!</a>
          </small>
        </fieldset>
        <fieldset>
          <legend translate>Log level</legend>
          <select class="form-control" ng-model="selectedLogLevel" ng-options="o.name for o in availableLogLevels" required>
          </select>
          <small translate class="text-gray">
          Log level shows information on the console. This is useful to find bugs and to help users. 'debug' is the most verbose level while 'fatal' only shows unexpected errors
          </small>
        </fieldset>
        <button translate type="submit" class="button primary radius expand m0" ng-disabled="settingsForm.$invalid || loading" ng-click="save()">
          Save
        </button>
      </form>
      <div class="box-setup-footer">
        <div class="left">
          <a class="button outline dark-gray tiny" ng-click="$root.go('/')">
            <i class="icon-arrow-left4 size-10"></i> 
            <span translate>Back</span>
          </a>
        </div>
        <div class="right">
          <a class="button outline dark-gray tiny" href="" ng-click="reset()">
            <i class="fi-page-delete"></i> 
            <span translate>Reset settings</span>
          </a>
        </div>
 
      </div>
  </div>
</div>
